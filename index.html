<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>jooby by jooby-project</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">jooby</h1>
        <p class="header">An Express inspired web framework for Java 8 (or higher).</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/jooby-project/jooby/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/jooby-project/jooby/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/jooby-project/jooby">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/jooby-project">jooby-project</a></p>


      </header>
      <section>
        <h1>
<a name="jooby" class="anchor" href="#jooby"><span class="octicon octicon-link"></span></a>jooby</h1>

<p>An Express inspired web framework for Java 8 (or higher).</p>

<div class="highlight highlight-java"><pre>
<span class="kn">import</span> <span class="nn">org.jooby.Jooby</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="kd">extends</span> <span class="n">Jooby</span> <span class="o">{</span>

  <span class="o">{</span>
    <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span>
      <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="s">"Hey Jooby!"</span><span class="o">)</span>
    <span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">new</span> <span class="nf">App</span><span class="o">().</span><span class="na">start</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>

</pre></div>

<h1>
<a name="status" class="anchor" href="#status"><span class="octicon octicon-link"></span></a>status</h1>

<p>version: 0.1.0-SNAPSHOT</p>

<h1>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>requirements</h1>

<ul>
<li>Java 8</li>
<li>Maven 3.x</li>
</ul>

<h1>
<a name="quickstart" class="anchor" href="#quickstart"><span class="octicon octicon-link"></span></a>quickstart</h1>

<p>Just paste this into a terminal:</p>

<pre><code>mvn archetype:generate -DgroupId=[app package] -DartifactId=[app name] -Dversion=[app version] -B -DarchetypeArtifactId=jooby-archetype -DarchetypeGroupId=org.jooby -DarchetypeVersion=0.1.0-SNAPSHOT
</code></pre>

<p>You must provide a value for:</p>

<ul>
<li><p>-DgroupId: like <code>com.mycompany</code>, <code>org.myorg</code>, etc... It must be a valid Java package's name.</p></li>
<li><p>-DartifactId: like <code>my-app</code>, usually in lower case and without spaces.</p></li>
<li><p>-Dversion: like <code>1.0-SNAPSHOT</code> or <code>1.0.0-SNAPSHOT</code></p></li>
</ul>

<p>Let's try it!:</p>

<pre><code>mvn archetype:generate -B -DgroupId=com.mycompany -DartifactId=my-app -Dversion=1.0.0-SNAPSHOT -DarchetypeArtifactId=jooby-archetype -DarchetypeGroupId=org.jooby -DarchetypeVersion=0.1.0-SNAPSHOT
cd my-app
mvn jooby:run
</code></pre>

<p>You should see something similar to this at the end of the output:</p>

<pre><code>INFO  [2014-10-27 16:40:17,241] Logging initialized @3193ms
INFO  [2014-10-27 16:40:17,321] jetty-9.2.3.v20140905
INFO  [2014-10-27 16:40:17,340] Started o.e.j.s.h.ContextHandler@604616a9{/,null,AVAILABLE}
INFO  [2014-10-27 16:40:17,357] Started ServerConnector@55802087{HTTP/1.1}{0.0.0.0:8090}
INFO  [2014-10-27 16:40:17,358] Started @3314ms
INFO  [2014-10-27 16:40:17,358]
Routes:
  GET /assets/**/*    [*/*]     [*/*]    (static files)
  GET /               [*/*]     [*/*]    (anonymous)
</code></pre>

<p>Open a browser and type:</p>

<pre><code>http://localhost:8080/
</code></pre>

<p>Jooby! is up and running!!!</p>

<h1>
<a name="contents-work-in-progress" class="anchor" href="#contents-work-in-progress"><span class="octicon octicon-link"></span></a>contents (work in progress)</h1>

<ul>
<li>
<a href="#getting-started">getting started</a>

<ul>
<li>
<a href="#exploring%20the%20newly%20created%20project">exploring the newly created project</a>

<ul>
<li><a href="#directory%20layout">directory layout</a></li>
<li><a href="#App.java">App.java</a></li>
<li><a href="#running">running</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#overview">overview</a></li>
<li>
<a href="#routes">routes</a>

<ul>
<li>
<a href="#path%20patterns">path patterns</a>

<ul>
<li><a href="#variables">variables</a></li>
</ul>
</li>
<li>
<a href="#type%20of%20routes">type of routes</a>

<ul>
<li><a href="#inline">inline</a></li>
<li><a href="#external">external</a></li>
<li><a href="#mvc%20routes">mvc routes</a></li>
</ul>
</li>
<li><a href="#router%20vs%20filter">router vs filter</a></li>
<li>
<a href="#request%20params">request params</a>

<ul>
<li>
<a href="#param%20types">param types</a>

<ul>
<li><a href="#path">path</a></li>
<li><a href="#query">query</a></li>
<li><a href="#body">body</a></li>
</ul>
</li>
<li><a href="#param%20precedence">param precedence</a></li>
<li><a href="#optional%20params">optional params</a></li>
</ul>
</li>
<li><a href="#request%20headers">request headers</a></li>
</ul>
</li>
</ul>

<h1>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>getting started</h1>

<h1>
<a name="exploring-the-newly-created-project" class="anchor" href="#exploring-the-newly-created-project"><span class="octicon octicon-link"></span></a>exploring the newly created project</h1>

<h2>
<a name="directory-layout" class="anchor" href="#directory-layout"><span class="octicon octicon-link"></span></a>directory layout</h2>

<p>A new directory was created: <code>my-app</code>. Now, let's see how it looks like:</p>

<pre><code>/public
       /assets/js/index.js
       /assets/css/style.css
       /images
      welcome.html
/config
       application.conf
       logback.xml
/src/main/java
              /com/mycompany/App.java
</code></pre>

<p>The <strong>public</strong> directory contains <code>*.html</code>, <code>*.js</code>, <code>*.css</code>, <code>*.png</code>, ... etc., files.</p>

<p>The <strong>config</strong> directory contains <code>*.conf</code>, <code>*.properties</code>, <code>*.json</code>, ... etc., files.</p>

<p>The <strong>src/main/java</strong> contains <code>*.java</code> (of course) files.</p>

<p><strong>NOTE</strong>: The three directory are part of the classpath.</p>

<p><strong>NOTE</strong>: So this is Maven, Why don't use the default directory layout?</p>

<p>Good question, Java backend developers usually work with frontend developers and they wont have to look
deeply in the layout to find the resources they need (src/main/resources or src/main/webapp).</p>

<p>This is a matter of taste and if you find it problematic, you can just use the default directory layout of Maven.</p>

<h2>
<a name="appjava" class="anchor" href="#appjava"><span class="octicon octicon-link"></span></a>App.java</h2>

<div class="highlight highlight-java"><pre>
<span class="kn">import</span> <span class="nn">org.jooby.Jooby</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="kd">extends</span> <span class="n">Jooby</span> <span class="o">{</span>

  <span class="o">{</span>
    <span class="n">assets</span><span class="o">(</span><span class="s">"/assets/**"</span><span class="o">);</span> <span class="c1">// 1. static files under assets</span>

    <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="n">html</span><span class="o">(</span><span class="s">"welcome.html"</span><span class="o">));</span> <span class="c1">// 2. default route</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">new</span> <span class="nf">App</span><span class="o">().</span><span class="na">start</span><span class="o">();</span> <span class="c1">// 3. start the application.</span>
  <span class="o">}</span>

<span class="o">}</span>

</pre></div>

<p>It is pretty simple to add/configure a Jooby application. Steps involved are:</p>

<p>1) extends Jooby</p>

<p>2) define some routes</p>

<p>3) call the <code>start</code> method</p>

<h2>
<a name="running" class="anchor" href="#running"><span class="octicon octicon-link"></span></a>running</h2>

<p>Just open a console and type:</p>

<pre><code>mvn jooby:run
</code></pre>

<p>The plugin will compile the code if necessary and startup the application.</p>

<p>Of course, you can generate the IDE metadata from Maven and/or import as a Maven project on the IDE of your choice. The all you have to do is run the:</p>

<pre><code>App.java
</code></pre>

<p>class. After all, it is plain Java with a <code>main</code> method.</p>

<h2>
<a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>overview</h2>

<p>Jooby is an <a href="http://expressjs.com/">Express</a> inspired micro web framework for Java 8 (or higher).</p>

<p>Jooby API mimics (as much as possible) the <a href="http://expressjs.com/4x/api.html">Express API</a>.</p>

<p>API is short and easy to learn, around 30 classes.
The most notable classes are: [Jooby.Module], [Route] and [WebSocket].</p>

<h3>
<a name="dependencies" class="anchor" href="#dependencies"><span class="octicon octicon-link"></span></a>dependencies</h3>

<ul>
<li>
<a href="https://www.eclipse.org/jetty/">Jetty</a> as HTTP NIO Web Server</li>
<li>
<a href="https://github.com/google/guice">Guice</a> for Dependency Injection</li>
<li>
<a href="https://github.com/typesafehub/config">Config</a> for a powerful config system</li>
</ul>

<p>Jooby is organized as a set of reusable modules (a.k.a middleware in <a href="http://expressjs.com/">Express</a>).
A module does as minimum as possible and it should NOT make strong/hard decisions for you, or when it does, it must be 100% configurable.
For example, a module for the popular <a href="">Hibernate</a> library should do:</p>

<p>1) create a session factory</p>

<p>2) expose a way to control transactions</p>

<p>3) expose raw Hibernate API</p>

<p>but NOT:</p>

<p>1) wrap/translate Hibernate exceptions</p>

<p>2) wrap Hibernate API or similar</p>

<p>If a module does as minimum as possible, developers have the power! of setup/configure or take real advantage of native library features without noise.</p>

<h2>
<a name="routes" class="anchor" href="#routes"><span class="octicon octicon-link"></span></a>routes</h2>

<p>Like in <a href="http://expressjs.com/">Express</a> routes can be chained/stacked and executed in the same order they are defined.</p>

<p>A route is represent by [Route] and there are two types of handlers: [Router] and [Filter].</p>

<p>A handler is basically the callback executed while a route is the whole thing: verb, path, handler, etc...</p>

<div class="highlight highlight-java"><pre>  <span class="o">{</span>
     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"first"</span><span class="o">)</span>
     <span class="o">);</span>

     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"second"</span><span class="o">)</span>
     <span class="o">);</span>

     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="s">"last"</span><span class="o">)</span>
     <span class="o">);</span>
  <span class="o">}</span>
</pre></div>

<p>A call to:</p>

<pre><code>http://localhost:8080
</code></pre>

<p>will print</p>

<pre><code>first
second
</code></pre>

<p>and display: <code>last</code> in the browser</p>

<h3>
<a name="path-patterns" class="anchor" href="#path-patterns"><span class="octicon octicon-link"></span></a>path patterns</h3>

<p>Jooby supports Ant-style path patterns:</p>

<p><code>com/t?st.html</code> - matches <code>com/test.html</code> but also <code>com/tast.html</code> and <code>com/txst.html</code></p>

<p><code>com/*.html</code> - matches all <code>.html</code> files in the <code>com</code> directory</p>

<p><code>com/**/test.html</code> - matches all <code>test.html</code> files underneath the <code>com</code> path</p>

<p><code>**/*</code> - matches any path at any level</p>

<p><code>*</code> - matches any path at any level, shorthand for <code>**/*</code></p>

<h5>
<a name="variables" class="anchor" href="#variables"><span class="octicon octicon-link"></span></a>variables</h5>

<p>In addition to Ant-style path pattern, variables pattern are also possible:</p>

<p><code>/user/{id}</code> - matches <code>/user/*</code> and give you access to the <code>id</code> var</p>

<p><code>/user/:id</code> - matches <code>/user/*</code> and give you access to the <code>id</code> var</p>

<p><code>/user/{id:\\d+}</code> - /user/[digits] and give you access to the numeric <code>id</code> var</p>

<div class="highlight highlight-java"><pre>  <span class="o">{</span>
     <span class="n">get</span><span class="o">(</span><span class="s">"/users/:id"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">req</span><span class="o">.</span><span class="na">param</span><span class="o">(</span><span class="s">"id"</span><span class="o">).</span><span class="na">stringValue</span><span class="o">())</span>
     <span class="o">);</span>

    <span class="c1">// or with braces</span>
    <span class="n">get</span><span class="o">(</span><span class="s">"/users/{id}"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">req</span><span class="o">.</span><span class="na">param</span><span class="o">(</span><span class="s">"id"</span><span class="o">).</span><span class="na">stringValue</span><span class="o">())</span>
    <span class="o">);</span>
  <span class="o">}</span>
</pre></div>

<h3>
<a name="type-of-routes" class="anchor" href="#type-of-routes"><span class="octicon octicon-link"></span></a>type of routes</h3>

<p>Routes are classified in 3 groups: 1) inline; 2) external; or 3) Mvc routes.</p>

<p>We will cover inline vs external routes here and Mvc routes are covered later.</p>

<h4>
<a name="inline" class="anchor" href="#inline"><span class="octicon octicon-link"></span></a>inline</h4>

<p>Inline routes use lambdas and are useful for quickstart and/or small/simple applications.</p>

<div class="highlight highlight-java"><pre><span class="o">{</span>
  <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">req</span><span class="o">.</span><span class="na">path</span><span class="o">()));</span>

  <span class="n">post</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">req</span><span class="o">.</span><span class="na">path</span><span class="o">()));</span>

  <span class="o">...</span> <span class="n">etc</span><span class="o">...</span>
<span class="o">}</span>

</pre></div>

<h4>
<a name="external" class="anchor" href="#external"><span class="octicon octicon-link"></span></a>external</h4>

<p>External routes are declared in a separated class and looks like:</p>

<div class="highlight highlight-java"><pre><span class="o">{</span>
  <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="k">new</span> <span class="nf">ExternalRoute</span><span class="o">());</span>
<span class="o">}</span>

<span class="o">...</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExternalRoute</span> <span class="kd">implements</span> <span class="n">Router</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">Request</span> <span class="n">req</span><span class="o">,</span> <span class="n">Response</span> <span class="n">res</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exeption</span> <span class="o">{</span>
    <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">req</span><span class="o">.</span><span class="na">path</span><span class="o">());</span>
  <span class="o">}</span>

<span class="o">}</span>
</pre></div>

<p>Of course this is also possible with Java 8:</p>

<div class="highlight highlight-java"><pre><span class="o">{</span>
  <span class="c1">// static external route</span>
  <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="nl">ExternalRoute:</span><span class="o">:</span><span class="n">callback</span><span class="o">);</span>
<span class="o">}</span>

<span class="o">...</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExternalRoute</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">callback</span><span class="o">(</span><span class="n">Request</span> <span class="n">req</span><span class="o">,</span> <span class="n">Response</span> <span class="n">res</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exeption</span> <span class="o">{</span>
    <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">req</span><span class="o">.</span><span class="na">path</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<h4>
<a name="mvc-routes" class="anchor" href="#mvc-routes"><span class="octicon octicon-link"></span></a>mvc routes</h4>

<p>Mvc routes are very similar to controllers in <a href="http://spring.io/">Spring</a> or resources in <a href="https://jersey.java.net/">Jersey</a>.
They are covered later.</p>

<h3>
<a name="router-vs-filter" class="anchor" href="#router-vs-filter"><span class="octicon octicon-link"></span></a>router vs filter</h3>

<p>There are two types of handlers [Router] and [Filter]. The difference between them rely in the way
they allow/denied the execution of the next route in the chain. The next examples are identical:</p>

<div class="highlight highlight-java"><pre>  <span class="o">{</span>
     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
       <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"first"</span><span class="o">);</span>
     <span class="o">});</span>

     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
       <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"second"</span><span class="o">);</span>
     <span class="o">});</span>

     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="s">"last"</span><span class="o">)</span>
     <span class="o">);</span>
  <span class="o">}</span>
</pre></div>

<div class="highlight highlight-java"><pre>  <span class="o">{</span>
     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">,</span> <span class="n">chain</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
       <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"first"</span><span class="o">);</span>
       <span class="n">chain</span><span class="o">.</span><span class="na">next</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span>
     <span class="o">});</span>

     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">,</span> <span class="n">chain</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
       <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"second"</span><span class="o">);</span>
       <span class="n">chain</span><span class="o">.</span><span class="na">next</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span>
     <span class="o">});</span>

     <span class="n">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="s">"last"</span><span class="o">)</span>
     <span class="o">);</span>
  <span class="o">}</span>
</pre></div>

<p>A [Router] <strong>always</strong> call the next route in the chain, while a [Filter] might or mightn't call the next route in chain.</p>

<h3>
<a name="request-params" class="anchor" href="#request-params"><span class="octicon octicon-link"></span></a>request params</h3>

<p>The API for retriving a param is defined by:</p>

<pre><code>req.param("name")
</code></pre>

<p><strong>Always</strong> returns a <a href="https://github.com/jooby-project/jooby/blob/master/jooby/src/main/java/org/jooby/Variant.java">Variant</a>.
If the param is missing or type conversion fails, a <code>400 Bad Request</code> response will be generated.
You can test the presence of param using <a href="https://github.com/jooby-project/jooby/blob/master/jooby/src/main/java/org/jooby/Variant.java#L345">Variant.isPresent()</a></p>

<p>Request params are plain string (or bytes). Params convertion is done sing these rules:</p>

<p>1) Be a primitive type/ or primitive wrapper</p>

<p>2) Have a static method named <code>valueOf</code>, <code>fromString</code>, <code>forName</code></p>

<p>3) Be an <a href="https://github.com/jooby-project/jooby/blob/master/jooby/src/main/java/org/jooby/Upload.java">Upload</a>.</p>

<p>4) Have a custom <a href="https://github.com/google/guice/wiki/CustomInjections">Guice Type Converter</a></p>

<p>5) Be List, Set or SortedSet, where T satisfies 1, 2 or 3 above. The resulting collection is read-only.</p>

<p>6) Be Optional, where T satisfies 1, 2, 3 or 4.</p>

<h4>
<a name="param-types" class="anchor" href="#param-types"><span class="octicon octicon-link"></span></a>param types</h4>

<h5>
<a name="path" class="anchor" href="#path"><span class="octicon octicon-link"></span></a>path</h5>

<p>Path params also belong to the requested URI, but they looks like: <code>/user:id</code> or <code>/user/{id}</code></p>

<pre><code>String id = req.param("id").stringValue();
</code></pre>

<h5>
<a name="query" class="anchor" href="#query"><span class="octicon octicon-link"></span></a>query</h5>

<p>Query params also belong to the requested URI, but they looks like: <code>/user?id=123</code></p>

<pre><code>String id = req.param("id").stringValue();
</code></pre>

<h5>
<a name="body" class="anchor" href="#body"><span class="octicon octicon-link"></span></a>body</h5>

<p>Form params are available when a <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code> request is processed.</p>

<pre><code>String id = req.param("id").stringValue();
</code></pre>

<p>The same API works for file uploads:</p>

<p>Upload upload = req.param("myfile").to(Upload.class);</p>

<p>And/or body parts:</p>

<p>// multipart request named: jsonObject with a content type of application/json
   MyObject object = req.param("jsonObject").to(MyObject.class);</p>

<h4>
<a name="param-precedence" class="anchor" href="#param-precedence"><span class="octicon octicon-link"></span></a>param precedence</h4>

<p>Param resolution is done in this order:</p>

<p>1) path</p>

<p>2) query</p>

<p>3) body (form/multipart)</p>

<p>For example:</p>

<pre><code>curl -X POST -d "name=third" http://localhost:8080/user/first?name=second
</code></pre>

<p>Give us:</p>

<pre><code>get("/user:name", (req, res) -&gt; {
  List&lt;String&gt; name = req.param("name").toList(String.class);
  // path
  assertEquals("first", name.get(0));
  // query
  assertEquals("second", name.get(1));
  // body
  assertEquals("third", name.get(2));
});
</code></pre>

<p>And of course this is a valid call (no error):</p>

<pre><code>assertEquals("first", req.param("name").stringValue());
</code></pre>

<p>This is supported, but try to avoid this from your APIs because it is hard to read/follow.</p>

<h4>
<a name="optional-params" class="anchor" href="#optional-params"><span class="octicon octicon-link"></span></a>optional params</h4>

<p>Param are required by default, if you need/require an optional param, just use:</p>

<p>Optional optString = req.param("name").toOptional(String.class);</p>

<h3>
<a name="request-headers" class="anchor" href="#request-headers"><span class="octicon octicon-link"></span></a>request headers</h3>

<p>It's identical on how request params work, except that API call is:</p>

<pre><code>String header = req.header("header").stringValue();
</code></pre>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
